[0;34m๐จ Building SGLang from Source for RTX 5090[0m
=======================================================
- PyTorch 2.7.0 with CUDA 12.8
- sgl_kernel compiled from source
- RTX 5090 Blackwell (sm_120) support
=======================================================

[0;34m๐ Pre-flight Checks[0m
[0;34m๐ GPU Information:[0m
NVIDIA GeForce RTX 5090, 32607 MiB, 32109 MiB, 12.0

[0;34m๐งน Cleaning Previous Builds[0m
[0;34m๐จ Building SGLang Source Image[0m
This will take 15-30 minutes depending on your system...

#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile.sglang-source-build
#1 transferring dockerfile: 3.73kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/nvidia/cuda:12.8.0-cudnn-devel-ubuntu22.04
#2 DONE 1.4s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [ 1/16] FROM docker.io/nvidia/cuda:12.8.0-cudnn-devel-ubuntu22.04@sha256:c900a2ac7f3d860c854f7364eadfe32b8cd33933a838f96b71e9bb6525f77a8c
#4 DONE 0.0s

#5 [ 2/16] RUN apt-get update && apt-get install -y     python3.11     python3.11-dev     python3.11-venv     python3-pip     git     wget     curl     build-essential     cmake     ninja-build     pkg-config     && rm -rf /var/lib/apt/lists/*
#5 CACHED

#6 [ 3/16] RUN update-alternatives --install /usr/bin/python python /usr/bin/python3.11 1 &&     update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.11 1
#6 CACHED

#7 [ 4/16] RUN python -m pip install --upgrade pip setuptools wheel ninja
#7 CACHED

#8 [ 5/16] RUN pip install torch==2.7.0+cu128 --index-url https://download.pytorch.org/whl/cu128 &&     pip install torchvision torchaudio --index-url https://download.pytorch.org/whl/cu128
#8 0.253 Looking in indexes: https://download.pytorch.org/whl/cu128
#8 1.191 Collecting torch==2.7.0+cu128
#8 1.199   Downloading https://download.pytorch.org/whl/cu128/torch-2.7.0%2Bcu128-cp311-cp311-manylinux_2_28_x86_64.whl.metadata (29 kB)
#8 1.811 Collecting filelock (from torch==2.7.0+cu128)
#8 1.820   Downloading https://download.pytorch.org/whl/filelock-3.13.1-py3-none-any.whl.metadata (2.8 kB)
#8 2.415 Collecting typing-extensions>=4.10.0 (from torch==2.7.0+cu128)
#8 2.427   Downloading https://download.pytorch.org/whl/typing_extensions-4.12.2-py3-none-any.whl.metadata (3.0 kB)
#8 3.026 Collecting sympy>=1.13.3 (from torch==2.7.0+cu128)
#8 3.034   Downloading https://download.pytorch.org/whl/sympy-1.13.3-py3-none-any.whl.metadata (12 kB)
#8 3.639 Collecting networkx (from torch==2.7.0+cu128)
#8 3.647   Downloading https://download.pytorch.org/whl/networkx-3.3-py3-none-any.whl.metadata (5.1 kB)
#8 4.232 Collecting jinja2 (from torch==2.7.0+cu128)
#8 4.239   Downloading https://download.pytorch.org/whl/Jinja2-3.1.4-py3-none-any.whl.metadata (2.6 kB)
#8 4.829 Collecting fsspec (from torch==2.7.0+cu128)
#8 4.838   Downloading https://download.pytorch.org/whl/fsspec-2024.6.1-py3-none-any.whl.metadata (11 kB)
#8 5.431 Collecting nvidia-cuda-nvrtc-cu12==12.8.61 (from torch==2.7.0+cu128)
#8 6.015   Downloading https://download.pytorch.org/whl/cu128/nvidia_cuda_nvrtc_cu12-12.8.61-py3-none-manylinux2010_x86_64.manylinux_2_12_x86_64.whl.metadata (1.7 kB)
#8 6.612 Collecting nvidia-cuda-runtime-cu12==12.8.57 (from torch==2.7.0+cu128)
#8 7.207   Downloading https://download.pytorch.org/whl/cu128/nvidia_cuda_runtime_cu12-12.8.57-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.7 kB)
#8 7.788 Collecting nvidia-cuda-cupti-cu12==12.8.57 (from torch==2.7.0+cu128)
#8 7.805   Downloading https://download.pytorch.org/whl/cu128/nvidia_cuda_cupti_cu12-12.8.57-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.7 kB)
#8 8.394 Collecting nvidia-cudnn-cu12==9.7.1.26 (from torch==2.7.0+cu128)
#8 8.404   Downloading https://download.pytorch.org/whl/cu128/nvidia_cudnn_cu12-9.7.1.26-py3-none-manylinux_2_27_x86_64.whl.metadata (1.8 kB)
#8 9.038 Collecting nvidia-cublas-cu12==12.8.3.14 (from torch==2.7.0+cu128)
#8 9.049   Downloading https://download.pytorch.org/whl/cu128/nvidia_cublas_cu12-12.8.3.14-py3-none-manylinux_2_27_x86_64.whl.metadata (1.7 kB)
#8 9.641 Collecting nvidia-cufft-cu12==11.3.3.41 (from torch==2.7.0+cu128)
#8 9.652   Downloading https://download.pytorch.org/whl/cu128/nvidia_cufft_cu12-11.3.3.41-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.5 kB)
#8 10.24 Collecting nvidia-curand-cu12==10.3.9.55 (from torch==2.7.0+cu128)
#8 10.79   Downloading https://download.pytorch.org/whl/cu128/nvidia_curand_cu12-10.3.9.55-py3-none-manylinux_2_27_x86_64.whl.metadata (1.5 kB)
#8 11.39 Collecting nvidia-cusolver-cu12==11.7.2.55 (from torch==2.7.0+cu128)
#8 11.40   Downloading https://download.pytorch.org/whl/cu128/nvidia_cusolver_cu12-11.7.2.55-py3-none-manylinux_2_27_x86_64.whl.metadata (1.6 kB)
#8 11.97 Collecting nvidia-cusparse-cu12==12.5.7.53 (from torch==2.7.0+cu128)
#8 11.98   Downloading https://download.pytorch.org/whl/cu128/nvidia_cusparse_cu12-12.5.7.53-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.6 kB)
#8 12.56 Collecting nvidia-cusparselt-cu12==0.6.3 (from torch==2.7.0+cu128)
#8 12.58   Downloading https://download.pytorch.org/whl/nvidia_cusparselt_cu12-0.6.3-py3-none-manylinux2014_x86_64.whl.metadata (6.8 kB)
#8 13.14 Collecting nvidia-nccl-cu12==2.26.2 (from torch==2.7.0+cu128)
#8 13.16   Downloading https://download.pytorch.org/whl/cu128/nvidia_nccl_cu12-2.26.2-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.0 kB)
#8 13.73 Collecting nvidia-nvtx-cu12==12.8.55 (from torch==2.7.0+cu128)
#8 13.74   Downloading https://download.pytorch.org/whl/cu128/nvidia_nvtx_cu12-12.8.55-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.6 kB)
#8 14.34 Collecting nvidia-nvjitlink-cu12==12.8.61 (from torch==2.7.0+cu128)
#8 14.35   Downloading https://download.pytorch.org/whl/cu128/nvidia_nvjitlink_cu12-12.8.61-py3-none-manylinux2010_x86_64.manylinux_2_12_x86_64.whl.metadata (1.7 kB)
#8 14.92 Collecting nvidia-cufile-cu12==1.13.0.11 (from torch==2.7.0+cu128)
#8 14.94   Downloading https://download.pytorch.org/whl/cu128/nvidia_cufile_cu12-1.13.0.11-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.5 kB)
#8 15.69 Collecting triton==3.3.0 (from torch==2.7.0+cu128)
#8 16.24   Downloading https://download.pytorch.org/whl/triton-3.3.0-cp311-cp311-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl.metadata (1.5 kB)
#8 16.25 Requirement already satisfied: setuptools>=40.8.0 in /usr/local/lib/python3.11/dist-packages (from triton==3.3.0->torch==2.7.0+cu128) (80.9.0)
#8 16.86 Collecting mpmath<1.4,>=1.1.0 (from sympy>=1.13.3->torch==2.7.0+cu128)
#8 16.88   Downloading https://download.pytorch.org/whl/mpmath-1.3.0-py3-none-any.whl (536 kB)
#8 16.96      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ 536.2/536.2 kB 6.9 MB/s  0:00:00
#8 17.18 Collecting MarkupSafe>=2.0 (from jinja2->torch==2.7.0+cu128)
#8 17.19   Downloading https://download.pytorch.org/whl/MarkupSafe-2.1.5-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (28 kB)
#8 17.22 Downloading https://download.pytorch.org/whl/cu128/torch-2.7.0%2Bcu128-cp311-cp311-manylinux_2_28_x86_64.whl (1097.8 MB)
#8 150.9    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ 1.1/1.1 GB 7.9 MB/s  0:02:13
#8 150.9 Downloading https://download.pytorch.org/whl/cu128/nvidia_cublas_cu12-12.8.3.14-py3-none-manylinux_2_27_x86_64.whl (609.6 MB)
#8 221.6    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ 609.6/609.6 MB 8.2 MB/s  0:01:10
#8 221.6 Downloading https://download.pytorch.org/whl/cu128/nvidia_cuda_cupti_cu12-12.8.57-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (10.2 MB)
#8 223.1    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ 10.2/10.2 MB 6.9 MB/s  0:00:01
#8 223.6 Downloading https://download.pytorch.org/whl/cu128/nvidia_cuda_nvrtc_cu12-12.8.61-py3-none-manylinux2010_x86_64.manylinux_2_12_x86_64.whl (88.0 MB)
#8 231.3    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ 88.0/88.0 MB 11.5 MB/s  0:00:07
#8 231.3 Downloading https://download.pytorch.org/whl/cu128/nvidia_cuda_runtime_cu12-12.8.57-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (954 kB)
#8 231.4    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ 954.8/954.8 kB 7.5 MB/s  0:00:00
#8 232.0 Downloading https://download.pytorch.org/whl/cu128/nvidia_cudnn_cu12-9.7.1.26-py3-none-manylinux_2_27_x86_64.whl (726.9 MB)
#8 316.0    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ 726.9/726.9 MB 7.8 MB/s  0:01:23
#8 316.0 Downloading https://download.pytorch.org/whl/cu128/nvidia_cufft_cu12-11.3.3.41-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (193.1 MB)
